(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[164],{9694:function(e,s,t){Promise.resolve().then(t.bind(t,5507)),Promise.resolve().then(t.t.bind(t,1749,23))},5507:function(e,s,t){"use strict";t.r(s);var l=t(7437),r=t(1865),a=t(2265),i=t(6673),n=t(3423),o=t(8734),d=t(6264),u=t(4033),m=t(2173);let c=e=>{let{onFileDrop:s}=e,[t,r]=(0,a.useState)("");return(0,l.jsx)(i.ZP,{onError:()=>r("Please upload a file"),accept:["image/jpeg","application/word","application/pdf"],maxSize:2097152,onDrop:e=>{r(""),s(e[0])},multiple:!1,children:e=>{let{getRootProps:s,getInputProps:t,acceptedFiles:r}=e;return(0,l.jsxs)("div",{...s(),className:"border border-dashed rounded-lg h-44 border-zinc-300",children:[(0,l.jsx)("input",{type:"file",...t(),className:"hidden",id:"cv",name:"cv"}),(0,l.jsx)("div",{className:"flex items-center justify-center w-full h-full",children:(0,l.jsxs)("label",{htmlFor:"dropzone-file",className:"flex flex-col items-center justify-center w-full h-full rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[(0,l.jsx)(n.Z,{className:"w-10 h-10 mb-2 text-gray-500"}),(0,l.jsxs)("p",{className:"mb-2 text-sm text-gray-700",children:[(0,l.jsx)("span",{className:"font-semibold sec-color",children:"Click to upload"})," ","or drag and drop"]}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"this is a required "}),(0,l.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:"max file size is 2MB and must be PDF"})]}),r&&r[0]?(0,l.jsxs)("div",{className:"flex items-center rounded-md overflow-hidden outline-[1.5px] outline-zinc-200 divide-x divide-zinc-200 bg-white max-w-xs",children:[(0,l.jsx)("div",{className:"grid h-full px-3 py-2 place-items-center",children:(0,l.jsx)(o.Z,{className:"w-4 h-4"})}),(0,l.jsx)("div",{className:"h-full px-3 py-2 text-sm truncate",children:r[0].name})]}):null]})})]})}})};s.default=()=>{let{register:e,handleSubmit:s,formState:{errors:t}}=(0,r.cI)(),[i,n]=(0,a.useState)(!1),[o,p]=(0,a.useState)(!1),[x,h]=(0,a.useState)(null),f=(0,u.useRouter)(),b=async e=>{try{n(!0);let s=new FileReader;s.readAsDataURL(x),s.onloadend=async()=>{let t=s.result.split(",")[1],l={...e,cv:t},r=await m.Z.post("https://piensofz.com/public/api/apply",l,{headers:{"Content-Type":"application/json"}});200===r.status||201===r.status?console.log("Message submitted successfully!"):console.error("API request failed with status",r.status)}}catch(e){console.error("Error during API request:",e)}finally{n(!1),p(!0),setTimeout(()=>{location.reload()},5e3)}};return(0,l.jsxs)("form",{onSubmit:s(b),className:"space-y-5 ",children:[(0,l.jsxs)("div",{className:"mt-6",children:[(0,l.jsx)("label",{htmlFor:"fullName",className:"font-medium",children:"Full name"}),(0,l.jsx)("input",{type:"text",id:"fullName",...e("fullName",{required:"Full name is required"}),className:"w-full px-3 py-2 mt-2 text-gray-500 bg-transparent border rounded-lg shadow-sm outline-none focus:border-gray-800"}),t.fullName&&(0,l.jsx)("p",{className:"text-sm text-red-500",children:t.fullName.message})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"phoneNumber",className:"font-medium",children:"Phone number"}),(0,l.jsx)("input",{type:"tel",id:"phoneNumber",...e("phoneNumber",{required:"Phone number is required",pattern:{value:/^\d+$/,message:"Only numbers allowed."}}),className:"w-full px-3 py-2 mt-2 text-gray-500 bg-transparent border rounded-lg shadow-sm outline-none focus:border-gray-800"}),t.phoneNumber&&(0,l.jsx)("p",{className:"text-sm text-red-500",children:t.phoneNumber.message})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"email",className:"font-medium",children:"Email"}),(0,l.jsx)("input",{type:"email",id:"email",...e("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),className:"w-full px-3 py-2 mt-2 text-gray-500 bg-transparent border rounded-lg shadow-sm outline-none focus:border-gray-800"}),t.email&&(0,l.jsx)("p",{className:"text-sm text-red-500",children:t.email.message})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"position",className:"font-medium",children:"Position"}),(0,l.jsx)("input",{type:"text",id:"position",...e("position",{required:"Position is required"}),className:"w-full px-3 py-2 mt-2 text-gray-500 bg-transparent border rounded-lg shadow-sm outline-none focus:border-gray-800"}),t.position&&(0,l.jsx)("p",{className:"text-sm text-red-500",children:t.position.message})]}),(0,l.jsx)(c,{onFileDrop:h}),(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center mb-4",children:[(0,l.jsxs)("button",{type:"submit",className:"relative flex items-center justify-center w-48 h-12 p-2 overflow-hidden font-extrabold duration-300 border rounded-md cursor-pointer bg-gradient shadow-500 hover:scale-95 group text-sky-50",children:[(0,l.jsx)("div",{className:"absolute z-10 w-20 h-24 duration-500 bg-white rounded-full -right-3 top-5 group-hover:top-2 group-hover:-right-2 group-hover:scale-125"}),(0,l.jsx)("p",{className:"z-10 text-black",children:i?(0,l.jsx)(d.Z,{className:"w-6 h-6 animate-spin"}):"Apply"})]}),o?void(o&&f.push("/jobs/thank-you")):null]})]})}}},function(e){e.O(0,[749,504,460,971,938,744],function(){return e(e.s=9694)}),_N_E=e.O()}]);